<form class="{{cssClass}} sheet character-sheet" autocomplete="off" spellcheck="false">

    {{!-- Sheet Header --}}
    <header class="sheet-header character-header">
        
        <div class="header-fields">
            <div class="character-header-plate">

                <h1 class="charname textarea-resizeable">                    
                    <textarea name="name" rows="1">{{actor.name}}</textarea>
                    
                    <div class="textarea-overlay">{{actor.name}}</div>
                </h1>
                
                <div class="character-subtitle">{{localize "WW.Stats.Level"}} {{level}} {{charOptions.ancestry.name}}{{#if charOptions.novice}} {{charOptions.novice.name}}{{/if}}</div>
            </div>

            <div class="circle" style="--total: 4">
                <img class="profile-img" src="{{actor.img}}" data-edit="img" data-tooltip="{{actor.name}}" height="100" width="100"/>
                
                <div class="stat" style="--i:1">
                    <label class="resource-label">{{localize "WW.Attributes.StrengthShort"}}</label>
                    <div>
                        <input type="number" name="system.attributes.str.value" value="{{system.attributes.str.value}}" min="0" data-dtype="Number"/>
                        <a class="attribute-mod item-button" data-action="attribute-roll" data-key="str" data-tooltip="Roll Strength">
                            {{#if system.attributes.str.value}}
                            {{numberFormat system.attributes.str.mod decimals=0 sign=true}}
                            {{else}}—{{/if}}
                        </a>
                    </div>
                </div>

                <div class="stat" style="--i:2">
                    <label class="resource-label">{{localize "WW.Attributes.AgilityShort"}}</label>
                    <div>
                        <input type="number" name="system.attributes.agi.value" value="{{system.attributes.agi.value}}" min="0" data-dtype="Number"/>
                        <a class="attribute-mod item-button" data-action="attribute-roll" data-key="agi" data-tooltip="Roll Agility">
                            {{#if system.attributes.agi.value}}
                            {{numberFormat system.attributes.agi.mod decimals=0 sign=true}}
                            {{else}}—{{/if}}
                        </a>
                    </div>

                </div>

                <div class="stat" style="--i:4">
                    <label class="resource-label">{{localize "WW.Attributes.IntellectShort"}}</label>
                    <div>
                        <input type="number" name="system.attributes.int.value" value="{{system.attributes.int.value}}" min="0" data-dtype="Number"/>
                        <a class="attribute-mod item-button" data-action="attribute-roll" data-key="int" data-tooltip="Roll Intellect">
                            {{#if system.attributes.int.value}}
                            {{numberFormat system.attributes.int.mod decimals=0 sign=true}}
                            {{else}}—{{/if}}
                        </a>
                    </div>
                </div>

                <div class="stat" style="--i:3">
                    <label class="resource-label">{{localize "WW.Attributes.WillShort"}}</label>
                    <div>
                        <input type="number" name="system.attributes.wil.value" value="{{system.attributes.wil.value}}" min="0" data-dtype="Number"/>
                        <a class="attribute-mod item-button" data-action="attribute-roll" data-key="wil" data-tooltip="Roll Will">
                            {{#if system.attributes.wil.value}}
                            {{numberFormat system.attributes.wil.mod decimals=0 sign=true}}
                            {{else}}—{{/if}}
                        </a>
                    </div>
                </div>
                
                <!--
                <div class="stat" style="--i:5">5</div>
                <div class="stat" style="--i:6">6</div>
                <div class="stat" style="--i:7">7</div>
                <div class="stat" style="--i:8">8</div>
                <div class="stat" style="--i:9">9</div>
                <div class="stat" style="--i:10">10</div>
                <div class="stat" style="--i:11">11</div>
                <div class="stat" style="--i:12">12</div>-->
            </div>

            {{!-- Character Stats --}}
            <div class="character-stats">

                {{!-- Defense Row --}}
                <div class="grid-3">
                    {{!-- Defense --}}
                    <div class="stat">
                        <label>{{localize "WW.Defense.Label"}}</label>

                        <div><a data-tooltip="{{localize "WW.Defense.Natural"}}: {{system.stats.defense.natural}}">{{system.stats.defense.total}}</a></div>
                    </div>

                    {{!-- Health --}}
                    <div class="stat">
                        <label>{{localize "WW.Health.Label"}}</label>

                        <div><a data-tooltip="{{localize "WW.Health.Normal"}}: {{system.stats.health.normal}}. {{localize "WW.Health.Bonus"}}: {{system.stats.health.bonus}}. {{localize "WW.Health.Lost"}}: {{system.stats.health.lost}}">{{system.stats.health.current}}</a></div>
                    </div>

                    {{!-- Damage --}}
                    <div class="stat">
                        <label>{{localize "WW.Damage.Label"}}</label>

                        <div class="flex align-center">
                            <div class="input-wrap">
                                <input type="number" name="system.stats.damage.value" value="{{system.stats.damage.value}}" min="0" data-dtype="Number"/>

                                <div class="input-overlay">{{system.stats.damage.value}}</div>
                            </div>
                            
                            <i class="health-indicator fas {{#if incapacitated}}fa-octagon-xmark{{else if injured}}fa-droplet{{/if}}" data-tooltip="
                                {{#if incapacitated}}{{localize "WW.Health.Incapacitated"}}
                                {{else}}{{localize "WW.Health.Injured"}}{{/if}}">
                            </i>
                        </div>

                    </div>

                </div>
            
                {{!-- Bonus Damage Row --}}
                <div class="grid-2 mt-2">
                    {{!-- Bonus Damage --}}
                    <div class="stat">
                        <label>{{localize "WW.Damage.Bonus"}}</label>

                        <div class="flex nogap align-center">
                            <div class="input-wrap">
                                <input type="number" name="system.stats.bonusdamage" value="{{system.stats.bonusdamage}}" data-dtype="Number" min="0" placeholder="#" />

                                <div class="input-overlay">{{system.stats.bonusdamage}}</div>
                            </div>
                            
                            <div>d6</div>
                        </div>
                        
                    </div>

                    <div class="stat flexrow">
                        {{!-- Luck Roll --}}
                        <div class="mr-2 luck">
                            <label>{{localize "WW.Attributes.Luck"}}</label>

                            <div><a class="item-button resource-label" data-action="attribute-roll" data-key="luck" data-tooltip="Roll {{localize "WW.Attributes.Luck"}}"><i class="large fas fa-dice-d20"></i></a></div>
                        </div>

                        {{!-- Rest --}}
                        <div class="rest">
                            <label>{{localize "WW.Rest.Label"}}</label>

                            <div><a class="rest-button"><i class="large fas fa-bed"></i></a></div>
                        </div>
                    </div>
                </div>

            </div>

        </div>
    </header>
    <div>
        <nav class="sheet-tabs tabs" data-group="primary">{{!-- Sheet Tab Navigation --}}
            <div>
                <a class="item" data-tab="summary">{{localize "WW.Actor.Summary"}}</a>
                <a class="item" data-tab="details">{{localize "WW.Actor.Details"}}</a>
                <a class="item" data-tab="equipment">{{localize "WW.Equipment.Label"}}</a>
            </div>
            
            <div>
                <a class="item" data-tab="talents">{{localize "WW.Talents.Label"}}</a>
                <a class="item" data-tab="spells">{{localize "WW.Spells.Label"}}</a>
                <a class="item" data-tab="effects">{{localize "WW.Effects.Label"}}</a>
            </div>
            
        </nav>

        {{!-- Sheet Body --}}
        <section class="sheet-body">

            {{!-- Summary Tab --}}
            <div class="tab summary" data-group="primary" data-tab="summary">
                {{> "systems/weirdwizard/templates/actors/parts/Character-summary.hbs"}}
            </div>

            {{!-- Details Tab --}}
            <div class="tab details" data-group="primary" data-tab="details">
                {{> "systems/weirdwizard/templates/actors/parts/Character-details.hbs"}}
            </div>

            {{!-- Equipment Tab --}}
            <div class="tab equipment" data-group="primary" data-tab="equipment">
                {{> "systems/weirdwizard/templates/actors/parts/Character-equipment.hbs"}}
            </div>

            {{!-- Traits & Talents Tab --}}
            <div class="tab talents" data-group="primary" data-tab="talents">
                {{> "systems/weirdwizard/templates/actors/parts/Character-talents.hbs"}}
            </div>

            {{!-- Spells Tab --}}
            <div class="tab spells" data-group="primary" data-tab="spells">
                {{> "systems/weirdwizard/templates/actors/parts/Character-spells.hbs"}}
            </div>

            {{!-- Afflictions and Effects Tab --}}
            <div class="tab effects flexcol" data-group="primary" data-tab="effects">
                {{> "systems/weirdwizard/templates/actors/parts/Character-effects.hbs"}}
            </div>
        </section>
    </div>
</form>